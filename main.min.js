const e={am:["am",null],ar:["ar","ar"],az:["az",null],bg:["bg",null],ca:["ca",null],cs:["cs",null],cy:["cy","cy"],da:["da","da"],de:["de","de"],el:["el",null],en:["en","en"],es:["es","es"],"es-419":["es-419","es-419"],et:["et",null],eu:["eu",null],fa:["fa",null],fi:["fi",null],fr:["fr","fr"],ga:["ga",null],gd:["gd",null],gl:["gl",null],he:["he",null],hi:["hi","hi"],hr:["hr",null],hu:["hu",null],id:["id",null],is:["is","is"],it:["it","it"],ja:["ja","ja"],ko:["ko","ko"],lt:["lt",null],lv:["lv",null],mi:["mi",null],nb:["nb","nb"],nl:["nl","nl"],pl:["pl","pl"],pt:["pt","pt"],"pt-br":["pt-br","pt-br"],ro:["ro","ro"],ru:["ru","ru"],sk:["sk",null],sl:["sl",null],sr:["sr",null],sv:["sv","sv"],th:["th",null],tr:["tr","tr"],uk:["uk",null],vi:["vi",null],"zh-cn":["zh-cn","zh-cn"],"zh-tw":["zh-tw",null],zu:["zu",null]};function t(t,n,l,s,a,c){s.style.display="none",t.addEventListener("click",(()=>{const t=e[l.value][1];if(null===t)return void alert("tts is unavailable for languages that are not in the list");const i=new Audio;i.src="https://synthesis-service.scratch.mit.edu/synth?"+new URLSearchParams({locale:t,gender:"female",text:n.value}),i.controls=!0,n.parentNode.append(i);const d=speechSynthesis.getVoices().find((e=>e.lang===t||e.lang.slice(0,2)===t.slice(0,2))),r=new SpeechSynthesisUtterance(n.value);r.lang=t,r.voice=d,r.pitch=a.value,r.rate=c.value,console.log(r),window.speechSynthesis.speak(r),s.style.display=null}))}speechSynthesis.getVoices(),document.getElementById("translate").addEventListener("click",(async()=>{const{result:t}=await fetch("https://translate-service.scratch.mit.edu/translate?"+new URLSearchParams({language:e[document.getElementById("target-language").value][0],text:document.getElementById("source").value})).then((e=>e.json()));document.getElementById("translated").value=t})),t(document.getElementById("source-speech"),document.getElementById("source"),document.getElementById("source-language"),document.getElementById("source-speech-synthesis-options"),document.getElementById("source-pitch"),document.getElementById("source-rate")),t(document.getElementById("translated-speech"),document.getElementById("translated"),document.getElementById("target-language"),document.getElementById("translated-speech-synthesis-options"),document.getElementById("translated-pitch"),document.getElementById("translated-rate"));var n,l,s,a,c,i,d,r,u;document.getElementById("myVideo"),document.getElementById("myBtn");for(a=(n=document.getElementsByClassName("custom-select")).length,l=0;l<a;l++){for(c=(i=n[l].getElementsByTagName("select")[0]).length,(d=document.createElement("DIV")).setAttribute("class","select-selected"),d.innerHTML=i.options[i.selectedIndex].innerHTML,n[l].appendChild(d),(r=document.createElement("DIV")).setAttribute("class","select-items select-hide"),s=1;s<c;s++)(u=document.createElement("DIV")).innerHTML=i.options[s].innerHTML,u.addEventListener("click",(function(e){var t,n,l,s,a,c,i;for(c=(s=this.parentNode.parentNode.getElementsByTagName("select")[0]).length,a=this.parentNode.previousSibling,n=0;n<c;n++)if(s.options[n].innerHTML==this.innerHTML){for(s.selectedIndex=n,a.innerHTML=this.innerHTML,i=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,l=0;l<i;l++)t[l].removeAttribute("class");this.setAttribute("class","same-as-selected");break}a.click()})),r.appendChild(u);n[l].appendChild(r),d.addEventListener("click",(function(e){e.stopPropagation(),o(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))}function o(e){var t,n,l,s,a,c=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),s=t.length,a=n.length,l=0;l<a;l++)e==n[l]?c.push(l):n[l].classList.remove("select-arrow-active");for(l=0;l<s;l++)c.indexOf(l)&&t[l].classList.add("select-hide")}document.addEventListener("click",o);
